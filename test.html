<!DOCTYPE html>
<html>
	<head>
		<title>Demo procrastination</title>
		<style type="text/css" media="screen">
			html, body{
				height: 100%;
				width: 100%;
			}
		</style>
		<script src="lib/zepto.js" type="text/javascript" charset="utf-8"></script>
		<!-- <script src="lib/streamer.js" type="text/javascript" charset="utf-8"></script> -->
		<script src="procrastination.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" charset="utf-8">
			$(function(){
//				s = Procrastination($('p'))
//					.each(function(e){ $(e).append(" World!") })
//					.each(function(e){ $(e).append(" " + new Date()) })
//					.attr("class")
//					.each(function(e){console.log(e)})
				/*
				setInterval(function(){
					$(document.body).append('<p class="blah">Hello</p>')
				}, 2000)
				*/

				function mousemove(next){ $(document.body).mousemove(next, false) }
				function key(next){ $(document.body).keydown(next, false) }
				function click(next){ $(document.body).click(next, false) }
				
				/*
				new Reactive()
					.on(click)
					.foreach(function(v){
						console.log("PAF: %o", v)
					})
					.subscribe()
				*/
				
				var logger = new Reactive().foreach(function(e){ console.log(e) }),
					r1 = logger.on(key),
					r2 = logger.on(click),
					both = r1.zip(r2)
				
				both.subscribe()
				
			})
		</script>
	</head>
	<body>
		<p class="demo">
			Hello
		</p>
	</body>
</html>
